# Анализ безопасности системы

## 1.1. Идентификация конфиденциальных данных, не учтённых во внутренних системах

Компания обрабатывает критически важные категории конфиденциальных данных, подлежащих защите в соответствии с ФЗ-152 «О персональных данных» и отраслевыми стандартами:

### Категории конфиденциальных данных:
- **Персональные данные (PII):**
  - ФИО, дата рождения
  - Контактные данные (телефон, email)
  - Адрес прописки, место работы/учёбы

- **Медицинская информация:**
  - Диагнозы, результаты анализов
  - Медицинские карты (PDF/JPG)
  - Данные о хронических заболеваниях и анамнезе

- **Финансовые данные:**
  - Платёжные реквизиты (обрабатываются через ККМ и 1С)
  - Договоры на оказание услуг

- **Учётные данные сотрудников:**
  - Логины и пароли (Active Directory)
  - Информация для зарплатного учёта (1С:Бухгалтерия)

### Анализ рисков на основе диаграмм потоков данных

[Диаграммы потоков данных](task1_diagrams.drawio)

#### Вкладка 1. Процесс записи пациента на приём
- **Риски:**
  - Возможная утечка данных из файлов Excel из-за отсутствия RBAC
  - Передача данных без шифрования

#### Вкладка 2. Процесс обработки медицинских данных
- **Риски:**
  - Совместное хранение медицинских и финансовых данных
  - Отсутствие контроля версий файлов

#### Вкладка 3. Процесс учёта ТМЦ
- **Риски:**
  - Неразграниченный доступ к учёту ТМЦ
  - Отсутствие выделенных ролей «Склад»/«Бухгалтерия»

## 1.2. Аудит существующих мер обеспечения безопасности данных

### Выявленные системные проблемы:
- **Неструктурированное хранение:**
  - Данные размещены в неподходящих системах (Excel, сканы)
  - Отсутствует надлежащее разграничение прав доступа

- **Отсутствие аудита:**
  - Не ведётся журналирование операций с конфиденциальными данными
  - Нет контроля действий пользователей

- **Незащищённые интеграции:**
  - Обмен данными между системами (1С, Excel, файловый сервер) без механизмов защиты
  - Отсутствие шифрования передаваемых данных

## 1.3. Предложения по улучшению системы безопасности

### 1. Категоризация и контроль доступа
- Выделение доменов данных: PII, Медицинские, Финансовые, HR
- Внедрение системы ролевого доступа (RBAC)
- Настройка политик доступа (например, роль «Врач» → доступ только к своим пациентам)

### 2. Модернизация инструментов хранения
- Замена Excel на реляционную СУБД (PostgreSQL) для структурированных данных
- Внедрение объектного хранилища (MinIO) для файлов
- Использование HashiCorp Vault для управления секретами

### 3. Криптографическая защита
- Шифрование данных в состоянии покоя (rest)
- Шифрование данных при передаче (transit) с использованием TLS и PGP
- Внедрение системы управления ключами шифрования

### 4. Мониторинг и предотвращение утечек
- Внедрение DLP-системы для мониторинга и блокирования утечек
- Настройка политик мониторинга передачи конфиденциальных данных

[Диаграммы потоков данных](task1_diagrams.drawio)

#### Вкладка 4. Защита интеграций (Интеграция с лабораторией анализов)
- Внедрение API-шлюза (Kong) для централизованного контроля доступа
- Реализация маскирования PII (замена ФИО на обезличенный ID)
- Организация полного аудит-логирования всех запросов
- Интеграция с SIEM-системой (Elasticsearch)

## Заключение

Текущая система хранения данных не соответствует современным требованиям безопасности. Ключевой первоочерёдной задачей является миграция данных с Excel на специализированные СУБД с одновременной настройкой систем RBAC, аудита и шифрования.